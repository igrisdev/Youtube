---
import ContainerSection from "./ContainerSection.astro";

import ImageSection2 from "/public/Image-4.png";
import ImageOnePerson from "/public/Image-5.png";
---

<ContainerSection>
  <img
    src={ImageSection2.src}
    alt="hola"
    loading="eager"
    class="section_2_image_bg w-full h-full object-cover -z-10 absolute"
  />

  <section
    class="section_2_text max-w-8xl grid grid-cols-2 pt-20 mx-auto h-full z-50"
  >
    <div class="flex flex-col justify-start pt-40 gap-2">
      <p>
        Step boldly forward, <br />
        explore hidden paths.
      </p>

      <p>
        Mysteries unfold, bringing insight, <br />
        sparking curiosity and wonder.
      </p>

      <div>
        <a href="/" class="border-b">Discover More</a>
      </div>
    </div>

    <div class="flex items-end justify-end pb-30 pr-10">
      <h2 class="section_2_title text-8xl font-bold">Into the <br />unseen</h2>
    </div>
  </section>

  <img
    src={ImageOnePerson.src}
    alt="Image Earth With People"
    class="section_2_one_people absolute bottom-0 w-full object-cover lg:translate-y-40 -z-10"
  />
</ContainerSection>

<script>
  import { gsap } from "gsap";
  import { ScrollTrigger } from "gsap/ScrollTrigger";

  gsap.registerPlugin(ScrollTrigger);

  const tl_section_2 = gsap.timeline({
    scrollTrigger: {
      trigger: ".section_2_image_bg",
      start: "top 60%",
      end: "bottom top",
      // toggleActions: "onEnter onLeave onEnterBack onLeaveBack"
      // play: Arranca la animación
      // pause: Si sales de la sección, se pausa (ahorra recursos)
      // resume: Si vuelves a entrar, sigue donde iba
      // pause: Si te vas para arriba, se pausa de nuevo
      toggleActions: "play pause resume pause",
    },
  });

  // --- Animaciones de ENTRADA ---

  tl_section_2.from(
    ".section_2_title, .section_2_one_people, .section_2_text",
    {
      y: "100%",
      duration: 1.2,
      ease: "power1.inOut",
    }
  );

  tl_section_2.to(
    ".section_2_image_bg",
    {
      scale: 1.1,
      rotation: 0.01,
      duration: 4,
      ease: "power1.inOut",
      repeat: -1,
      yoyo: true,
    },
    "<"
  );
</script>
